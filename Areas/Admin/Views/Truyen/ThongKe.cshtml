@model Web_truyen.Areas.Admin.Models.ThongKeTruyenViewModel
@{
    ViewBag.Title = "Thống kê truyện";
    Layout = "~/Views/Share/_LayoutPage.cshtml";
}

<link href="~/Assets/Admin/css/truyen/ThongKe.css" rel="stylesheet" />

<div class="stat-container">
    <h2>Thống kê truyện: @Model.TieuDe</h2>

    <div class="stat-info">
        <img src="~/Assets/img/@Model.AnhBia" alt="Ảnh bìa" />
        <div class="stat-text">
            <p><strong>Tổng lượt đọc:</strong> @Model.TongLuotDoc</p>
            <p><strong>Tổng số chương:</strong> @Model.TongChuong</p>
            <p><strong>Tổng bình chọn:</strong> @Model.TongBinhChon</p>
        </div>
    </div>

    <hr />

    <div style="width: 900px; height: 400px;">
        <canvas id="docGiaChart"></canvas>
    </div>

    <div style="width: 900px; height: 400px;">
        <canvas id="binhLuanChart"></canvas>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
    window.docGiaLabels = @Html.Raw(ViewBag.DocGiaLabelsJson ?? "[]");
    window.docGiaData = @Html.Raw(ViewBag.DocGiaDataJson ?? "[]");
    window.binhLuanLabels = @Html.Raw(ViewBag.BinhLuanLabelsJson ?? "[]");
    window.binhLuanData = @Html.Raw(ViewBag.BinhLuanDataJson ?? "[]");
</script>
<script src="~/Assets/Admin/js/truyen/ThongKe.js"></script>
